<!DOCTYPE html>

<html lang="zh-tw">
    <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="format-detection" content="telephone=no"/>

    <title>RISCV Open Source Verification and Simulation Strategy | Daichou&#39;s blog</title>
    
    <link rel="apple-touch-icon" sizes="180x180" href="https://daichou.github.io/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="https://daichou.github.io/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="https://daichou.github.io/favicon-16x16.png">
    <link rel="manifest" href="https://daichou.github.io/manifest.json">
    <link rel="mask-icon" href="https://daichou.github.io/safari-pinned-tab.svg" color="#FF3DB4">
    <meta name="theme-color" content="#ffffff">

    
    
    
    <link rel="stylesheet" href="https://daichou.github.io/css/main.min.15431d6c334f65809fe2bc329da3f2c81c6e3027ab1e25b56afb2bb85fa7fd64.css"/>

    
    
    

    
    
 
    
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-161437179-1', 'auto');
	ga('set', 'anonymizeIp', true);
	ga('send', 'pageview');
}
</script>
</head>

    <body>
        
<nav>
  <header>
    <div class="site-title">
        <a href="https://daichou.github.io/">Daichou&#39;s blog</a>
    </div>  
</header>

  <div class="nav-menu">
  
    <a class="color-link nav-link" href="https://daichou.github.io/">Posts</a>
  
    <a class="color-link nav-link" href="https://daichou.github.io/tags/">Tags</a>
  
    <a class="color-link nav-link" href="https://daichou.github.io/archives/">Archives</a>
  
    <a class="color-link nav-link" href="https://daichou.github.io/about/">About me</a>
  
  <a class="color-link nav-link" href="https://daichou.github.io/index.xml" target="_blank" rel="noopener" type="application/rss+xml">RSS</a>
</div>
<footer class="footer">
	<div class="social-icons">
        
    <a class="social-icon" href="mailto:tommy0705c@gmail.com" target="_blank" rel="noopener" title="Email">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M25.2794292,5.59128519 L14,16.8707144 L2.72057081,5.59128519 C3.06733103,5.30237414 3.51336915,5.12857603 4,5.12857603 L24,5.12857603 C24.4866308,5.12857603 24.932669,5.30237414 25.2794292,5.59128519 Z M25.9956978,6.99633695 C25.998551,7.04004843 26,7.08414302 26,7.12857603 L26,20.871424 C26,21.0798433 25.9681197,21.2808166 25.9089697,21.4697335 L18.7156355,14.2763993 L25.9956978,6.99633695 Z M24.9498374,22.6319215 C24.6672737,22.7846939 24.3437653,22.871424 24,22.871424 L4,22.871424 C3.5268522,22.871424 3.09207889,22.7071233 2.74962118,22.432463 L10.0950247,15.0870594 L13.9848068,18.9768415 L14.1878486,18.7737996 L14.2030419,18.7889929 L17.6549753,15.3370594 L24.9498374,22.6319215 Z M2.00810114,21.0526627 C2.00273908,20.9929669 2,20.9325153 2,20.871424 L2,7.12857603 C2,7.08414302 2.00144896,7.04004843 2.00430222,6.99633695 L9.03436454,14.0263993 L2.00810114,21.0526627 Z"></path>
        </svg>
    </a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <a class="social-icon" href="https://gattacangin.blogspot.com/" target="_blank" rel="noopener" title="Blogger">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M16.4225354,15.183099 C16.7605636,15.183099 17.0422536,15.3145545 17.2676055,15.5774654 C17.4929581,15.8028172 17.6056345,16.0845072 17.6056345,16.4225354 C17.6056345,16.7605636 17.4929581,17.0422536 17.2676055,17.2676055 C17.0422536,17.4929581 16.7605636,17.6056345 16.4225354,17.6056345 L11.5211272,17.6056345 C11.183099,17.6056345 10.9014088,17.4929581 10.6760564,17.2676055 C10.4507043,17.0422536 10.3380283,16.7605636 10.3380283,16.4225354 C10.3380283,16.0845072 10.4507043,15.8028172 10.6760564,15.5774654 C10.9014088,15.3145545 11.183099,15.183099 11.5211272,15.183099 L16.4225354,15.183099 Z M11.5211272,11.5774646 C11.183099,11.5774646 10.9014088,11.4647886 10.6760564,11.2394368 C10.4507043,11.0140849 10.3380283,10.7323948 10.3380283,10.3943664 C10.3380283,10.0563382 10.4507043,9.77464807 10.6760564,9.54929597 C10.9014088,9.3239438 11.183099,9.21126771 11.5211272,9.21126771 L14.6760568,9.21126771 C15.0140849,9.21126771 15.295775,9.3239438 15.5211268,9.54929597 C15.7464787,9.77464807 15.8591546,10.0563382 15.8591546,10.3943664 C15.8591546,10.7323948 15.7464787,11.0140849 15.5211268,11.2394368 C15.295775,11.4647886 15.0140849,11.5774646 14.6760568,11.5774646 L11.5211272,11.5774646 Z M18.7887323,11.5774646 L18.7887323,9.21126771 C18.7887323,8.23474189 18.431925,7.38967148 17.7183104,6.67605648 C17.004695,5.9624414 16.1596245,5.60563386 15.183099,5.60563386 L10.3943663,5.60563386 C9.41784045,5.60563386 8.57277003,5.9624414 7.85915503,6.67605648 C7.14553995,7.38967148 6.78873241,8.23474189 6.78873241,9.21126771 L6.78873241,17.6056345 C6.78873241,18.58216 7.14553995,19.4272304 7.85915503,20.1408458 C8.57277003,20.8544604 9.41784045,21.2112677 10.3943663,21.2112677 L17.6056345,21.2112677 C18.58216,21.2112677 19.4272304,20.8544604 20.1408458,20.1408458 C20.8544604,19.4272304 21.2112677,18.58216 21.2112677,17.6056345 L21.2112677,14 C21.2112677,13.6619718 21.0985918,13.3802818 20.8732399,13.1549299 C20.6478873,12.9295781 20.3661969,12.8169022 20.0281687,12.8169022 C19.6901405,12.8169022 19.3896714,12.7042258 19.1267613,12.4788732 C18.9014086,12.2159623 18.7887323,11.9154928 18.7887323,11.5774646 L18.7887323,11.5774646 Z M23.6338031,2 C24.2723005,2 24.8169014,2.24413145 25.2676059,2.73239436 C25.7558686,3.18309863 26,3.72769958 26,4.36619722 L26,23.6338031 C26,24.2723005 25.7558686,24.8356809 25.2676059,25.3239444 C24.8169014,25.7746481 24.2723005,26 23.6338031,26 L4.36619722,26 C3.7276995,26 3.16431919,25.7746481 2.67605628,25.3239444 C2.22535209,24.8356809 2,24.2723005 2,23.6338031 L2,4.36619722 C2,3.72769958 2.22535209,3.18309863 2.67605628,2.73239436 C3.16431919,2.24413145 3.7276995,2 4.36619722,2 L23.6338031,2 Z"></path>
        </svg>
    </a>
    

    

    

    

    

    
    
    
    <a class="social-icon" href="https://github.com/Daichou" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    <a class="social-icon" href="#ZgotmplZ" target="_blank" rel="noopener" title="Stack Overflow">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M20.8863636,23.7090909 L20.8863636,17.3818182 L22.9863636,17.3818182 L22.9863636,25.8090909 L4.03181818,25.8090909 L4.03181818,17.3818182 L6.13181818,17.3818182 L6.13181818,23.7090909 L20.8863636,23.7090909 Z M8.45,16.7818182 L8.88636364,14.7090909 L19.1954545,16.8636364 L18.7590909,18.9363636 L8.45,16.7818182 Z M9.81363636,11.8727273 L10.6863636,9.93636364 L20.2318182,14.4090909 L19.3590909,16.3181818 L9.81363636,11.8727273 Z M12.4590909,7.18181818 L13.7954545,5.57272727 L21.8954545,12.3090909 L20.5590909,13.9181818 L12.4590909,7.18181818 Z M17.6954545,2.19090909 L23.9681818,10.6454545 L22.2772727,11.9 L16.0045455,3.44545455 L17.6954545,2.19090909 Z M8.23181818,21.5818182 L8.23181818,19.4818182 L18.7590909,19.4818182 L18.7590909,21.5818182 L8.23181818,21.5818182 Z"></path>
        </svg>
    </a>
    
    
    

    

    

    

    

    

</div>




	<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
	<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>

	<script src="https://daichou.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww=" crossorigin="anonymous"></script>
</footer>
</nav>

        <div id="content" class="content-container">
        

<h1 class="post-title">RISCV Open Source Verification and Simulation Strategy</h1>
    
    <time>June 1, 2020</time>
    
    <div>
        <p>
        <h2 id="riscv-core模擬驗證策略開源方案">RISCV Core模擬驗證策略開源方案</h2>
<h3 id="risc-v-core-verification-and-simulation-with-opensource-solution">RISC-V Core verification and simulation with OpenSource solution</h3>
<p>最近看了比較多core，而自己也有為了測試跑了很多core的模擬，之前也因為實驗室需求搞了一些簡易的純模擬測試平台。所以把一些心得整理一下。</p>
<p>做CPU驗證流程當然應該是先確定邏輯正確，之後才是合成後timing與現實情況正確(上FPGA跑更複雜的模擬)。如果直接用FPGA跑模擬，要等合成，要搭建實驗平台，同時若要debug還要合ILA之類的debug module進去，每次時間會消耗很多，這樣對於前期處理器bug很多，還在建制的情況下十分沒有效率。因此有很多behavior model simulation方式，如用一些商用工具如:VCS或是Viviado進行模擬。這樣效率也很高，而且現在工具，如果testbench寫的好，tcl script寫的好，其實效率也是蠻高的。不過這些工具都是閉源，而且有些要錢(VCS)，所以對於一般開發者，如我們學生來說難以取得這類工具支援。所以現在很多RISCV core提供Verilator模擬驗證方式。</p>
<h2 id="verilator簡介">Verilator簡介</h2>
<ul>
<li>開源</li>
</ul>
<p>Verilator是一項由Linux Foundation旗下的Chips Alliance維護的開源專案，自從轉入Linux Foundation旗下後，開發更加頻繁，社群也變得更大。Verilator跟一般的VCS或是Viviado不太一樣，她只能做cycle accurate behavioral model模擬。他的機制是將verilog或是SystemVerilog轉成C++或是SystmeC進行&quot;cycle accurate&quot;模擬，也就是所有delay時間等操作均無效。</p>
<ul>
<li>特性</li>
</ul>
<p>cycle accurate模擬使她比一般商用模擬還要快(因為不用考慮timing)，在此架構下，verilator可以讓執行檔pthread，進行多線程支援。但Verilator在verilog或是SystemVerilog上仍有一些支援與不支援的地方。基本上可以被合成電路的語法她都支援。在SystemVerilog下還部份支援C/C++與SystemVerilog溝通的Verilog Procedural Interface(VPI)語法與Direct Programming Interface (DPI)語法。而因為其會將Verilog編成C/C++，所以可以用一些C/C++的方法直接更改邏輯中的值，這些方法讓我們用C/C++寫testbench可以更加快速。</p>
<p>而Verilator只支援2-state(0和1)，還有一點tristate，所以verilog中的&rsquo;x&rsquo;和&rsquo;z&rsquo;她會直接給入random值，這好處是會造成結果錯誤，可以更快debug，因為一般這些&rsquo;x&rsquo;和&rsquo;z&rsquo;訊號不該被拿來運算。</p>
<ul>
<li>限制
<ul>
<li>cycle accurate</li>
<li>no delay</li>
<li>沒force,release(可以直接看 <a href="https://github.com/verilator/verilator/blob/master/src/verilog.y#L2723">https://github.com/verilator/verilator/blob/master/src/verilog.y#L2723</a> )</li>
<li>always block sensitivity list有限制（https://github.com/verilator/verilator/issues/37）</li>
<li>沒fork&hellip;join,semaphore</li>
<li>還有其他可以看她的yacc</li>
<li>SVA部份不支援</li>
</ul>
</li>
<li>Verilator取得
<ul>
<li>Ubuntu有package可以安裝</li>
<li>若其他distro或是想要最新版可以從https://github.com/verilator/verilator clone下來編(或是從 <a href="https://git.veripool.org/git/verilator">https://git.veripool.org/git/verilator</a>)</li>
<li>安裝文件：https://github.com/verilator/verilator/blob/master/docs/install.adoc</li>
</ul>
</li>
<li>使用流程
<ol>
<li>準備Verilog/SystemVerilog專案</li>
<li>建立C++ wrapper作為testbench或是cycle/reset驅動(這邊有很多變形可以讓debug更方便)</li>
<li>透過Verilator編譯Verilog或是SystenVerilog還有剛剛的C++ wrapper成一些library以及*.cpp/*.h檔，同時她會產生 .mk file供編譯使用。</li>
<li>用他的 .mk file編譯cpp source code成binary</li>
<li>執行binary開始執行</li>
</ol>
</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-shell" data-lang="shell">$ verilator -Wall --cc <span style="color:#66d9ef">$(</span>VERILOG_SRC<span style="color:#66d9ef">)</span> --exe sim_main.cpp <span style="color:#75715e"># 產生obj_dir，裡面含有 *.cpp/*.h檔還有library檔</span>
$ make -j -C obj_dir -f Vour.mk Vour <span style="color:#75715e">#這裡的Vour.mk要看你的top module決定V{top module name}</span>
$ ./obj_dir/Vour <span style="color:#75715e"># 執行</span>
</code></pre></div><ul>
<li>關於verilator的教學，我建議直接閱讀官方manual會比較好。<a href="https://www.veripool.org/wiki/verilator/Manual-verilator">官方連結</a></li>
</ul>
<h2 id="riscv-core模擬方式">RISCV core模擬方式</h2>
<p>首先在模擬一個CPU我們需要模擬RAM,週邊裝置還有debug port(optional)。</p>
<h4 id="添加一個虛擬的ram">添加一個虛擬的ram</h4>
<p>在建構RAM來模擬時我們需要考量:</p>
<ol>
<li>
<p>RAM的interface
如你的core是透過AXI來從RAM抓取資料的，還是透過其他protocol抓取資料的，一般的CPU不會直接從core透過AXI接到主記憶體，中間可能會經過一些L1 cache,L2 cache，或是一些用來存取主記憶體的ip，而這些內部的protocol通常不像AXI那樣複雜，如果你的目標不是測試這些interface或是比較外圍的module，你可以考慮讓你的core直接透過這些比較簡單的protocl接到你的 &ldquo;假RAM&rdquo;。這邊pulp-platform/ariane是一個很好的範例：
<a href="https://github.com/pulp-platform/ariane/blob/master/tb/common/dp_ram.sv">https://github.com/pulp-platform/ariane/blob/master/tb/common/dp_ram.sv</a> ，你可以發現他的dp_ram寫的十分簡單。</p>
</li>
<li>
<p>RAM的大小</p>
<p>verilog array或是vector在verilator中無法支援太大的大小，verilator有array width上限，不能太大，不可能合個4GB ram什麼的，而且如果只是要跑測試也不太需要這麼大的空間。</p>
<p>但是如果是32bit core，可能會存取高位，或是特定區段的RAM，解決方式，可以就設定一個小一點ram（幾MB）這樣，接下來在&quot;假ram&quot;中進行位址轉換，例如:把0x80000000 map到0x0這類操作。如果：要存取比較分散的ram位址，可以用類似方法map多段ram。</p>
</li>
<li>
<p>C++ testbench RAM存取小技巧</p>
<p>雖然Verilator可以存取module裡的reg或是wire（前提是該module是有標記為&quot;/*verilator public_module*/&quot;,或是該變數被標為 /*verilator public*/），但是我們也可以透過藉由task 或是 function來存取verilator model(<a href="https://www.embecosm.com/appnotes/ean6/html/ch06s02s03.html">https://www.embecosm.com/appnotes/ean6/html/ch06s02s03.html</a>)，範例如下：</p>
<p>當我們在&quot;假ram&quot;中宣告以下function</p>
</li>
</ol>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-verilog" data-lang="verilog">  <span style="color:#66d9ef">task</span> writeByte;
    <span style="color:#75715e">/*verilator public*/</span>
    <span style="color:#66d9ef">input</span> <span style="color:#66d9ef">integer</span> byte_addr;
    <span style="color:#66d9ef">input</span> [<span style="color:#ae81ff">7</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] val;
    <span style="color:#66d9ef">begin</span>
      <span style="color:#66d9ef">reg</span> [<span style="color:#ae81ff">31</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>] tmp_addr;
      tmp_addr <span style="color:#f92672">=</span> byte_addr <span style="color:#f92672">-</span> MEM_OFFSET;
      <span style="color:#66d9ef">if</span> (byte_addr <span style="color:#f92672">&gt;=</span> MEM_OFFSET <span style="color:#f92672">&amp;&amp;</span>  byte_addr <span style="color:#f92672">&lt;</span> MEM_OFFSET<span style="color:#f92672">+</span>MEM_SIZE) <span style="color:#66d9ef">begin</span>
        mem[tmp_addr[PART_ADDR_WIDTH<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span><span style="color:#f92672">:</span><span style="color:#ae81ff">0</span>]] <span style="color:#f92672">=</span> val;
      <span style="color:#66d9ef">end</span>
    <span style="color:#66d9ef">end</span>
  <span style="color:#66d9ef">endtask</span>
</code></pre></div><p>verilator合成完的dp_ram會產生獨立的.cpp和.h檔，裡面你可以發現類似的class method宣告，你會發現裡面出現writeByte這個method：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp">
<span style="color:#75715e">//----------
</span><span style="color:#75715e"></span>
VL_MODULE(Vtestharness_dp_ram) {
  <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    
    <span style="color:#75715e">// PORTS
</span><span style="color:#75715e"></span>    VL_IN8(__PVT__clk,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">0</span>);
    <span style="color:#75715e">//...
</span><span style="color:#75715e"></span>    VL_OUTW(__PVT__rdata_dcache_o,<span style="color:#ae81ff">255</span>,<span style="color:#ae81ff">0</span>,<span style="color:#ae81ff">8</span>);
    
    <span style="color:#75715e">// LOCAL SIGNALS
</span><span style="color:#75715e"></span>    CData<span style="color:#75715e">/*1:0*/</span> __PVT__icache_cur_state;
    <span style="color:#75715e">//...
</span><span style="color:#75715e"></span>    CData<span style="color:#75715e">/*7:0*/</span> mem[<span style="color:#ae81ff">2097152</span>];
    
    <span style="color:#75715e">// LOCAL VARIABLES
</span><span style="color:#75715e"></span>    CData<span style="color:#75715e">/*5:0*/</span> __Vtableidx1;
    <span style="color:#66d9ef">static</span> CData<span style="color:#75715e">/*1:0*/</span> __Vtable1___PVT__dcache_next_state[<span style="color:#ae81ff">64</span>];
    
    <span style="color:#75715e">// INTERNAL VARIABLES
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
    Vtestharness__Syms<span style="color:#f92672">*</span> __VlSymsp;  <span style="color:#75715e">// Symbol table
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    
    <span style="color:#75715e">// PARAMETERS
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">enum</span> <span style="color:#a6e22e">_IDataMEM_SIZE</span> { MEM_SIZE <span style="color:#f92672">=</span> <span style="color:#ae81ff">0x200000U</span>};
    <span style="color:#66d9ef">enum</span> <span style="color:#a6e22e">_IDataMEM_OFFSET</span> { MEM_OFFSET <span style="color:#f92672">=</span> <span style="color:#ae81ff">0x80000000U</span>};
    
    <span style="color:#75715e">// CONSTRUCTORS
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
    VL_UNCOPYABLE(Vtestharness_dp_ram);  <span style="color:#75715e">///&lt; Copying not allowed
</span><span style="color:#75715e"></span>  <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    Vtestharness_dp_ram(<span style="color:#66d9ef">const</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span> name <span style="color:#f92672">=</span> <span style="color:#e6db74">&#34;TOP&#34;</span>);
    <span style="color:#f92672">~</span>Vtestharness_dp_ram();
    
    <span style="color:#75715e">// INTERNAL METHODS
</span><span style="color:#75715e"></span>    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">__Vconfigure</span>(Vtestharness__Syms<span style="color:#f92672">*</span> symsp, <span style="color:#66d9ef">bool</span> first);
  <span style="color:#66d9ef">private</span><span style="color:#f92672">:</span>
    <span style="color:#66d9ef">void</span> _ctor_var_reset() VL_ATTR_COLD;
  <span style="color:#66d9ef">public</span><span style="color:#f92672">:</span>
    
    <span style="color:#66d9ef">uint32_t</span> readByte(<span style="color:#66d9ef">uint32_t</span> byte_addr);
    <span style="color:#66d9ef">uint32_t</span> <span style="color:#a6e22e">readWord</span>(<span style="color:#66d9ef">uint32_t</span> byte_addr);
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">writeByte</span>(<span style="color:#66d9ef">uint32_t</span> byte_addr, <span style="color:#66d9ef">uint32_t</span> val);
    <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">writeWord</span>(<span style="color:#66d9ef">uint32_t</span> byte_addr, <span style="color:#66d9ef">uint32_t</span> val);
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">traceInit</span>(VerilatedVcd<span style="color:#f92672">*</span> vcdp, <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> userthis, <span style="color:#66d9ef">uint32_t</span> code);
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">traceFull</span>(VerilatedVcd<span style="color:#f92672">*</span> vcdp, <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> userthis, <span style="color:#66d9ef">uint32_t</span> code);
    <span style="color:#66d9ef">static</span> <span style="color:#66d9ef">void</span> <span style="color:#a6e22e">traceChg</span>(VerilatedVcd<span style="color:#f92672">*</span> vcdp, <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> userthis, <span style="color:#66d9ef">uint32_t</span> code);
} VL_ATTR_ALIGNED(VL_CACHE_LINE_BYTES);

</code></pre></div><p>之後你就可以在testbench 的c++中呼叫這些函式。如下範例，header請依照你verilator synthesis出來的為準：</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-cpp" data-lang="cpp"><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;verilated_vcd_c.h&#34;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Vtestharness.h&#34;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;Vtestharness__Syms.h&#34;</span><span style="color:#75715e">
</span><span style="color:#75715e">#include</span> <span style="color:#75715e">&#34;verilated.h&#34;</span><span style="color:#75715e">
</span><span style="color:#75715e"></span><span style="color:#66d9ef">void</span> <span style="color:#a6e22e">sim_mem_write</span>(Vtestharness_dp_ram<span style="color:#f92672">*</span> ram,<span style="color:#66d9ef">uint32_t</span> addr, size_t length, <span style="color:#66d9ef">const</span> <span style="color:#66d9ef">void</span><span style="color:#f92672">*</span> bytes)
{
  <span style="color:#66d9ef">for</span> (<span style="color:#66d9ef">int</span> i <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span> ; i <span style="color:#f92672">&lt;</span> length ; i <span style="color:#f92672">+=</span><span style="color:#ae81ff">4</span> ) {
    ram<span style="color:#f92672">-&gt;</span>writeByte(addr<span style="color:#f92672">+</span>i,<span style="color:#f92672">*</span>((<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)bytes<span style="color:#f92672">+</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">3</span>));
    ram<span style="color:#f92672">-&gt;</span>writeByte(addr<span style="color:#f92672">+</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>,<span style="color:#f92672">*</span>((<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)bytes<span style="color:#f92672">+</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>));
    ram<span style="color:#f92672">-&gt;</span>writeByte(addr<span style="color:#f92672">+</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">2</span>,<span style="color:#f92672">*</span>((<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)bytes<span style="color:#f92672">+</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">1</span>));
    ram<span style="color:#f92672">-&gt;</span>writeByte(addr<span style="color:#f92672">+</span>i<span style="color:#f92672">+</span><span style="color:#ae81ff">3</span>,<span style="color:#f92672">*</span>((<span style="color:#66d9ef">unsigned</span> <span style="color:#66d9ef">char</span><span style="color:#f92672">*</span>)bytes<span style="color:#f92672">+</span>i));
  }
}
</code></pre></div><h4 id="添加一個虛擬的uart-週邊">添加一個虛擬的UART (週邊)</h4>
<p>有時候為了方便debug，需要支援printf等透過UART輸出的界面(riscv-tests不需要)。所以需要一個假的uart來透過memory map IO輸出資料到console，通常不需要支援input。由於是透過memory map IO，因此也可以跟上面提到的protocol選擇一樣選一個比較簡單好實做的部份。</p>
<p>實做只要透過$write() function來輸出資料到console。</p>
<p>Debug module部份我合到底下來談。</p>
<h2 id="riscv-core-模擬驗證策略">RISCV core 模擬驗證策略</h2>
<p>有兩種測試方案，第一種是與debug module合併，透過CPU本身的Debug module與host的RISCV frontend server(fesvr)進行互動(上傳binary到CPU的RAM中，監控，提供gdb support等)。令一個是針對沒有debug module支援的core，透過Verilator直接改寫RAM來載入程式，以及提供監控功能。</p>
<h3 id="簡單的verilator-程式載入riscv-core驗證策略">簡單的Verilator 程式載入RISCV core驗證策略</h3>
<p>這個方式你沒辦法讓你的Verilator model與gdb等工具互動，因此你需要建立一個你自己的elf載入機制。關於riscv elf可以在https://github.com/riscv/riscv-isa-sim/blob/master/fesvr/elfloader.cc 找到，這個code可以幫助我們解析elf並得到physical memory address，加上上面提到的&quot;假RAM&quot;讀寫機制，我們可以合併達成程式載入器。另一個方法是透過SystemVerilog的readmemh方式載入預先處理好的memory file到&quot;假RAM&quot;中，這兩種方式都有開源專案使用。以下列出兩個代表專案：</p>
<ul>
<li>Taiga:
<ul>
<li>repo:https://gitlab.com/sfu-rcl/Taiga</li>
<li>作法：透過SystemVerilog載入程式，並透過C++ model進行Core內部追蹤</li>
</ul>
</li>
<li>cv32e40p：
<ul>
<li>repo:https://github.com/openhwgroup/cv32e40p</li>
<li>作法：透過C++載入program hex到ram中</li>
</ul>
</li>
<li>Core-SweRV:
<ul>
<li>repo:https://github.com/chipsalliance/Cores-SweRV/</li>
<li>作法：透過SystemVerilog載入program hex到RAM中，雖然其有Jtag支援，不過Core主要是用這方法</li>
</ul>
</li>
</ul>
<p>由於沒有Jtag或是Debug module支援，這類處理器通常會透過Verilator的model存取功能，寫自己的core tracer，來追蹤CPU內部重要訊號的動作。</p>
<h4 id="riscv-tests-使用">riscv-tests 使用</h4>
<p>應該沒有人寫riscv core不跑過一遍riscv-tests的吧。由於riscv-tests預設你的core不一定有UART等界面，所以她透過<em>tohost</em>和<em>fromhost</em>這兩個CSR(其實是memory)進行溝通，所以當你的core在透過&quot;假ram&quot;方式進行模擬時，你必須要讓你的verilator testbench可以去得到tohost的修改事件(監控tohost的記憶體存取)，這時會牽扯到你的core的cache行為，如果你core有DCache且行為不是write through時，由於riscv-test的結果會透過一個無窮迴圈一直寫入<em>tohost</em>，當你的cache是用write-back時，並不會觸發write back到main memory的機制(因為該cache line根本就不會被取代)。這時你需要其他監控<em>tohost</em>的值的方法，以下有一些解決選項：</p>
<ol>
<li><em>tohost</em>的所在記憶體區段用軟體設為non cacheable，前提是你的core支援這項操作</li>
<li>建構一個假的peripheral device，就像前面提到的uart一樣監控IO device行為</li>
</ol>
<h3 id="verilator-riscv-core--fesvr策略">Verilator RISCV core + fesvr策略</h3>
<p>對於開發完成度很高的core，尤其是提供JTAG等Debug Transport module的CPU通常會使用這種策略，而這種策略最有名都是UC Berkeley的專案。</p>
<h4 id="fesvr">fesvr</h4>
<p>fesvr是riscv-isa-sim(spike)下的一個子系統<a href="https://github.com/riscv/riscv-isa-sim/tree/master/fesvr">riscv-isa-sim</a> ，全名是RISC-V frontend server，用來作為host 與測試Core溝通的橋樑。有用來提供Remote Bit-Bang(rbb) client與host常用的openocd相連，提供類似實體晶片常用的jtag的功能。</p>
<h5 id="host-target-interfacehtif">Host Target Interface(HTIF)</h5>
<p>HTIF（software）是一個Host跟測試hardware溝通的手段，主要是透過存取<em>tohost</em>和<em>fromhost</em>這兩個CSR (雖說是CSR，其實是記憶體位址，在riscv-test中存取方式是透過sw/lw，<a href="https://github.com/riscv/riscv-test-env/blob/master/p/riscv_test.h#L259">https://github.com/riscv/riscv-test-env/blob/master/p/riscv_test.h#L259</a>)來溝通，fesvr載入elf程式時會特別找到tohost和fromhost label(<a href="https://github.com/riscv/riscv-isa-sim/blob/master/fesvr/htif.cc#L126">https://github.com/riscv/riscv-isa-sim/blob/master/fesvr/htif.cc#L126</a>)，然後執行過程中監看與讀寫這兩個CSR，這其實是一個非官方的手段，不過在riscv的ecosystem中很常使用這手段進行溝通，例如riscv-pk，也使用這方式與host溝通(<a href="https://github.com/riscv/riscv-pk/blob/master/machine/htif.c">https://github.com/riscv/riscv-pk/blob/master/machine/htif.c</a>)。</p>
<h5 id="debug-transport-moduledtm">Debug Transport Module(DTM)</h5>
<p><img src="riscv_debug_module.png" alt="riscv-debug-release.pdf"></p>
<ul>
<li>圖片擷取至riscv-debug-spec</li>
</ul>
<p>Debug Transport Module是在platform介於Debug Transport Hardware和Debug module之間的部份，由於Debug Transport Hardware有多種實做方式，例如：最廣泛的JTAG或是USB等傳輸方式來與Debug Host(例如：PC等)溝通。Debug Transport Module(DTM)在整個Debug的架構圖如上。
Debug Transport Module現在在RISCV debug spec中有詳細的定義。</p>
<h4 id="連接verilator-model與fesvr">連接verilator model與fesvr</h4>
<p>為了連接Design Under Test(DUT,這裡是core)，verilator model必須透過DPI來與Core的JTAG和DTM相連，這邊可以參考rocket-chip的作法( <a href="https://github.com/chipsalliance/rocket-chip/tree/master/src/main/resources">https://github.com/chipsalliance/rocket-chip/tree/master/src/main/resources</a>)，在這資料夾的vsrc下有SimJTAG.v和SimDTM.v，在csrc下有SimJTAG.cc和 SimDTM.cc，進去看原始碼就會看到DPI的寫法。為了使用JTAG必須使用軟體實做bit-bang(csrc下的remote_bitbang.cc)，好讓HTIF和fesvr thread可以與其相連。最後就可以透過開啟remote bit-bang，接下來讓host的openocd連上verilator model，再開啟讓gdb連接完成完整的debug環境。</p>
<p><img src="RV_SW_test_platform.svg" alt=""></p>
<h4 id="代表專案">代表專案</h4>
<ul>
<li>rocket-chip:
<ul>
<li>repo: <a href="https://github.com/chipsalliance/rocket-chip/">https://github.com/chipsalliance/rocket-chip/</a></li>
<li>目前被搬到chipalliance底下維護，為riscv開源代表，也是實做上述機制的代表。</li>
<li>主要關於這方面的code在：<a href="https://github.com/chipsalliance/rocket-chip/tree/master/src/main/resources">https://github.com/chipsalliance/rocket-chip/tree/master/src/main/resources</a> 資料夾下。</li>
</ul>
</li>
<li>ariane:
<ul>
<li>repo: <a href="https://github.com/pulp-platform/ariane">https://github.com/pulp-platform/ariane</a></li>
<li>ETHZ的RISCV代表專案，很大一部份的模擬框架是源自於rocket-chip，不過好處是他是全SystemVerilog實做，對於對chisel不熟的人可以很快了解其模擬方式。</li>
<li>主要測試code在：<a href="https://github.com/pulp-platform/ariane/tree/master/tb">https://github.com/pulp-platform/ariane/tree/master/tb</a> 資料夾下。</li>
</ul>
</li>
<li>riscv-sodor:
<ul>
<li>repo: <a href="https://github.com/ucb-bar/riscv-sodor/">https://github.com/ucb-bar/riscv-sodor/</a></li>
<li>為UC Berkeley下維護的教學用riscv核心，所以在測試方面幾乎和rocket-chip相似</li>
<li>主要測試相關code在：<a href="https://github.com/ucb-bar/riscv-sodor/tree/master/emulator/">https://github.com/ucb-bar/riscv-sodor/tree/master/emulator/</a> 資料夾下。</li>
<li>其repo包含一份內部教學文件<a href="https://github.com/ucb-bar/riscv-sodor/blob/master/doc/lab1.pdf">https://github.com/ucb-bar/riscv-sodor/blob/master/doc/lab1.pdf</a>，有很詳細的模擬測試說明。</li>
</ul>
</li>
</ul>
<h2 id="reference">Reference</h2>
<ul>
<li><a href="https://riscv.org/specifications/debug-specification/">https://riscv.org/specifications/debug-specification/</a></li>
<li><a href="https://riscv.org/wp-content/uploads/2015/01/riscv-software-stack-bootcamp-jan2015.pdf">https://riscv.org/wp-content/uploads/2015/01/riscv-software-stack-bootcamp-jan2015.pdf</a></li>
<li><a href="https://www.lowrisc.org/docs/tagged-memory-v0.1/simulations/">https://www.lowrisc.org/docs/tagged-memory-v0.1/simulations/</a></li>
<li><a href="https://sifivetechsymposium.com/wp-content/uploads/2019/06/11-RISC-V-Core-Software-Ecosystem.pdf">https://sifivetechsymposium.com/wp-content/uploads/2019/06/11-RISC-V-Core-Software-Ecosystem.pdf</a></li>
</ul>

        </p>
    </div>
    <div id="disqus_thread"></div>
<script type="application/javascript">
    var disqus_config = function () {
    
    
    
    };
    (function() {
        if (["localhost", "127.0.0.1"].indexOf(window.location.hostname) != -1) {
            document.getElementById('disqus_thread').innerHTML = 'Disqus comments not available by default when the website is previewed locally.';
            return;
        }
        var d = document, s = d.createElement('script'); s.async = true;
        s.src = '//' + "daichou-github-io" + '.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="https://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="https://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

    

    <div class="page-footer">
        
        <hr class="footer-divider">
        
            <a class="tag" href="https://daichou.github.io/tags/riscv">#RISCV</a>
        
            <a class="tag" href="https://daichou.github.io/tags/note">#Note</a>
        
            <a class="tag" href="https://daichou.github.io/tags/tools">#tools</a>
        
      
    </div>


        

<link rel="stylesheet" type="text/css" href="https://daichou.github.io/css/katex.min.css" crossorigin="anonymous">
<script type="text/javascript" src="https://daichou.github.io/js/katex.min.js" crossorigin="anonymous"></script>
<script type="text/javascript" src="https://daichou.github.io/js/auto-render.min.js"onload="renderMathInElement(document.body);" crossorigin="anonymous"></script>

        </div>
        <footer class="footer-mobile">
	<div class="social-icons">
        
    <a class="social-icon" href="mailto:tommy0705c@gmail.com" target="_blank" rel="noopener" title="Email">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M25.2794292,5.59128519 L14,16.8707144 L2.72057081,5.59128519 C3.06733103,5.30237414 3.51336915,5.12857603 4,5.12857603 L24,5.12857603 C24.4866308,5.12857603 24.932669,5.30237414 25.2794292,5.59128519 Z M25.9956978,6.99633695 C25.998551,7.04004843 26,7.08414302 26,7.12857603 L26,20.871424 C26,21.0798433 25.9681197,21.2808166 25.9089697,21.4697335 L18.7156355,14.2763993 L25.9956978,6.99633695 Z M24.9498374,22.6319215 C24.6672737,22.7846939 24.3437653,22.871424 24,22.871424 L4,22.871424 C3.5268522,22.871424 3.09207889,22.7071233 2.74962118,22.432463 L10.0950247,15.0870594 L13.9848068,18.9768415 L14.1878486,18.7737996 L14.2030419,18.7889929 L17.6549753,15.3370594 L24.9498374,22.6319215 Z M2.00810114,21.0526627 C2.00273908,20.9929669 2,20.9325153 2,20.871424 L2,7.12857603 C2,7.08414302 2.00144896,7.04004843 2.00430222,6.99633695 L9.03436454,14.0263993 L2.00810114,21.0526627 Z"></path>
        </svg>
    </a>
    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <a class="social-icon" href="https://gattacangin.blogspot.com/" target="_blank" rel="noopener" title="Blogger">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M16.4225354,15.183099 C16.7605636,15.183099 17.0422536,15.3145545 17.2676055,15.5774654 C17.4929581,15.8028172 17.6056345,16.0845072 17.6056345,16.4225354 C17.6056345,16.7605636 17.4929581,17.0422536 17.2676055,17.2676055 C17.0422536,17.4929581 16.7605636,17.6056345 16.4225354,17.6056345 L11.5211272,17.6056345 C11.183099,17.6056345 10.9014088,17.4929581 10.6760564,17.2676055 C10.4507043,17.0422536 10.3380283,16.7605636 10.3380283,16.4225354 C10.3380283,16.0845072 10.4507043,15.8028172 10.6760564,15.5774654 C10.9014088,15.3145545 11.183099,15.183099 11.5211272,15.183099 L16.4225354,15.183099 Z M11.5211272,11.5774646 C11.183099,11.5774646 10.9014088,11.4647886 10.6760564,11.2394368 C10.4507043,11.0140849 10.3380283,10.7323948 10.3380283,10.3943664 C10.3380283,10.0563382 10.4507043,9.77464807 10.6760564,9.54929597 C10.9014088,9.3239438 11.183099,9.21126771 11.5211272,9.21126771 L14.6760568,9.21126771 C15.0140849,9.21126771 15.295775,9.3239438 15.5211268,9.54929597 C15.7464787,9.77464807 15.8591546,10.0563382 15.8591546,10.3943664 C15.8591546,10.7323948 15.7464787,11.0140849 15.5211268,11.2394368 C15.295775,11.4647886 15.0140849,11.5774646 14.6760568,11.5774646 L11.5211272,11.5774646 Z M18.7887323,11.5774646 L18.7887323,9.21126771 C18.7887323,8.23474189 18.431925,7.38967148 17.7183104,6.67605648 C17.004695,5.9624414 16.1596245,5.60563386 15.183099,5.60563386 L10.3943663,5.60563386 C9.41784045,5.60563386 8.57277003,5.9624414 7.85915503,6.67605648 C7.14553995,7.38967148 6.78873241,8.23474189 6.78873241,9.21126771 L6.78873241,17.6056345 C6.78873241,18.58216 7.14553995,19.4272304 7.85915503,20.1408458 C8.57277003,20.8544604 9.41784045,21.2112677 10.3943663,21.2112677 L17.6056345,21.2112677 C18.58216,21.2112677 19.4272304,20.8544604 20.1408458,20.1408458 C20.8544604,19.4272304 21.2112677,18.58216 21.2112677,17.6056345 L21.2112677,14 C21.2112677,13.6619718 21.0985918,13.3802818 20.8732399,13.1549299 C20.6478873,12.9295781 20.3661969,12.8169022 20.0281687,12.8169022 C19.6901405,12.8169022 19.3896714,12.7042258 19.1267613,12.4788732 C18.9014086,12.2159623 18.7887323,11.9154928 18.7887323,11.5774646 L18.7887323,11.5774646 Z M23.6338031,2 C24.2723005,2 24.8169014,2.24413145 25.2676059,2.73239436 C25.7558686,3.18309863 26,3.72769958 26,4.36619722 L26,23.6338031 C26,24.2723005 25.7558686,24.8356809 25.2676059,25.3239444 C24.8169014,25.7746481 24.2723005,26 23.6338031,26 L4.36619722,26 C3.7276995,26 3.16431919,25.7746481 2.67605628,25.3239444 C2.22535209,24.8356809 2,24.2723005 2,23.6338031 L2,4.36619722 C2,3.72769958 2.22535209,3.18309863 2.67605628,2.73239436 C3.16431919,2.24413145 3.7276995,2 4.36619722,2 L23.6338031,2 Z"></path>
        </svg>
    </a>
    

    

    

    

    

    
    
    
    <a class="social-icon" href="https://github.com/Daichou" target="_blank" rel="noopener" title="GitHub">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M13.9988029,1.32087331 C6.82105037,1.32087331 1,7.14112562 1,14.3212723 C1,20.0649109 4.72454649,24.9370678 9.89038951,26.6560892 C10.5408085,26.7757983 10.7778323,26.374374 10.7778323,26.0296121 C10.7778323,25.7215609 10.7666595,24.9035493 10.760275,23.8189856 C7.14426471,24.6042767 6.38131925,22.0760223 6.38131925,22.0760223 C5.78995672,20.5740732 4.93762853,20.1742451 4.93762853,20.1742451 C3.75729765,19.3682044 5.02701126,19.3841656 5.02701126,19.3841656 C6.33183953,19.4759425 7.01817121,20.7241085 7.01817121,20.7241085 C8.17775254,22.7104801 10.0611744,22.1366749 10.8017741,21.8038838 C10.919887,20.9643246 11.2558703,20.3913175 11.6269683,20.066507 C8.74038491,19.7385043 5.70536235,18.6228163 5.70536235,13.6413251 C5.70536235,12.2223743 6.21213051,11.0611968 7.04370914,10.1530044 C6.90963504,9.82420367 6.46351945,8.50181809 7.17139875,6.71256734 C7.17139875,6.71256734 8.26234691,6.36301702 10.7459099,8.04532771 C11.78259,7.75642995 12.8950858,7.61277914 14.000399,7.60719272 C15.1049142,7.61277914 16.2166119,7.75642995 17.2548881,8.04532771 C19.736855,6.36301702 20.8262071,6.71256734 20.8262071,6.71256734 C21.5356825,8.50181809 21.0895669,9.82420367 20.9562909,10.1530044 C21.7894656,11.0611968 22.2922435,12.2223743 22.2922435,13.6413251 C22.2922435,18.6355852 19.2524325,19.734514 16.3570705,20.0561322 C16.8231376,20.4575564 17.2389269,21.2508282 17.2389269,22.4638795 C17.2389269,24.2012564 17.2229657,25.603448 17.2229657,26.0296121 C17.2229657,26.3775663 17.4575954,26.7821827 18.116793,26.6552912 C23.2786458,24.9322794 27,20.0633148 27,14.3212723 C27,7.14112562 21.1789496,1.32087331 13.9988029,1.32087331"></path>
        </svg>
    </a>
    

    
    <a class="social-icon" href="#ZgotmplZ" target="_blank" rel="noopener" title="Stack Overflow">
        <svg width="28px" height="28px" viewBox="0 0 28 28" version="1.1" fill="#ABABAB" xmlns="https://www.w3.org/2000/svg" xmlns:xlink="https://www.w3.org/1999/xlink">
            <path d="M20.8863636,23.7090909 L20.8863636,17.3818182 L22.9863636,17.3818182 L22.9863636,25.8090909 L4.03181818,25.8090909 L4.03181818,17.3818182 L6.13181818,17.3818182 L6.13181818,23.7090909 L20.8863636,23.7090909 Z M8.45,16.7818182 L8.88636364,14.7090909 L19.1954545,16.8636364 L18.7590909,18.9363636 L8.45,16.7818182 Z M9.81363636,11.8727273 L10.6863636,9.93636364 L20.2318182,14.4090909 L19.3590909,16.3181818 L9.81363636,11.8727273 Z M12.4590909,7.18181818 L13.7954545,5.57272727 L21.8954545,12.3090909 L20.5590909,13.9181818 L12.4590909,7.18181818 Z M17.6954545,2.19090909 L23.9681818,10.6454545 L22.2772727,11.9 L16.0045455,3.44545455 L17.6954545,2.19090909 Z M8.23181818,21.5818182 L8.23181818,19.4818182 L18.7590909,19.4818182 L18.7590909,21.5818182 L8.23181818,21.5818182 Z"></path>
        </svg>
    </a>
    
    
    

    

    

    

    

    

</div>




	<div class="footer-mobile-links">
		<p><a href="https://github.com/kimcc/hugo-theme-noteworthy" target="_blank" rel="noopener">Noteworthy theme</a></p>
		<span class="divider-bar">|</span>
		<p><a href="https://gohugo.io" target="_blank" rel="noopener">Built with Hugo</a></p>
	</div>

	<script src="https://daichou.github.io/js/main.min.fa5c2b23e07b5d9bfad267a52b4b24fdb053e6fb7524993383594926a3ac270c.js" integrity="sha256-+lwrI+B7XZv60melK0sk/bBT5vt1JJkzg1lJJqOsJww=" crossorigin="anonymous"></script>
</footer>
    </body>
</html>