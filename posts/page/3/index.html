<!DOCTYPE html>
<html lang="zh-tw">
  <head>
    
    <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="generator" content="Hugo 0.68.0 with theme Tranquilpeak 0.4.7-BETA">
<meta name="author" content="Dai chou">
<meta name="keywords" content="">
<meta name="description" content="">


<meta property="og:description" content="">
<meta property="og:type" content="website">
<meta property="og:title" content="Posts">
<meta name="twitter:title" content="Posts">
<meta property="og:url" content="https://daichou.github.io/posts/">
<meta property="twitter:url" content="https://daichou.github.io/posts/">
<meta property="og:site_name" content="gattaca-ngin">
<meta property="og:description" content="">
<meta name="twitter:description" content="">
<meta property="og:locale" content="en">


<meta name="twitter:card" content="summary">











  <meta property="og:image" content="https://www.gravatar.com/avatar/b4129e5955793d76911ddfa9909e0f60?s=640">
  <meta property="twitter:image" content="https://www.gravatar.com/avatar/b4129e5955793d76911ddfa9909e0f60?s=640">


    <title>Posts</title>

    <link rel="icon" href="https://daichou.github.io/favicon.png">
    
      <link rel="alternate" type="application/rss+xml" title="RSS" href="https://daichou.github.io/posts/index.xml">
    

    

    <link rel="canonical" href="https://daichou.github.io/posts/">

    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css" integrity="sha256-eZrrJcwDc/3uDhsdt61sL2oOBY362qM3lon1gyExkL0=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/jquery.fancybox.min.css" integrity="sha256-vuXZ9LGmmwtjqFX1F+EKin1ThZMub58gKULUyf0qECk=" crossorigin="anonymous" />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.4/helpers/jquery.fancybox-thumbs.min.css" integrity="sha256-SEa4XYAHihTcEP1f5gARTB2K26Uk8PsndQYHQC1f4jU=" crossorigin="anonymous" />
    
    
    <link rel="stylesheet" href="https://daichou.github.io/css/style-twzjdbqhmnnacqs0pwwdzcdbt8yhv8giawvjqjmyfoqnvazl0dalmnhdkvp7.min.css" />
    
    

    
      
<script type="application/javascript">
var doNotTrack = false;
if (!doNotTrack) {
	(function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
	(i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
	m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
	})(window,document,'script','https://www.google-analytics.com/analytics.js','ga');
	ga('create', 'UA-161437179-1', 'auto');
	
	ga('send', 'pageview');
}
</script>

    
    
  </head>

  <body>
    <div id="blog">
      <header id="header" data-behavior="1">
  <i id="btn-open-sidebar" class="fa fa-lg fa-bars"></i>
  <div class="header-title">
    <a class="header-title-link" href="https://daichou.github.io/">gattaca-ngin</a>
  </div>
  
    
      <a class="header-right-picture "
         href="https://daichou.github.io/#about">
    
    
    
      
        <img class="header-picture" src="https://www.gravatar.com/avatar/b4129e5955793d76911ddfa9909e0f60?s=90" alt="" />
      
    
    </a>
  
</header>

      <nav id="sidebar" data-behavior="1">
  <div class="sidebar-container">
    
      <div class="sidebar-profile">
        <a href="https://daichou.github.io/#about">
          <img class="sidebar-profile-picture" src="https://www.gravatar.com/avatar/b4129e5955793d76911ddfa9909e0f60?s=110" alt="" />
        </a>
        <h4 class="sidebar-profile-name">Dai chou</h4>
        
          <h5 class="sidebar-profile-bio">A student major in Computer science in National Chiao Tung University.</h5>
        
      </div>
    
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://daichou.github.io/posts">
    
      <i class="sidebar-button-icon fa fa-lg fa-home"></i>
      
      <span class="sidebar-button-desc">Home</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://daichou.github.io/categories">
    
      <i class="sidebar-button-icon fa fa-lg fa-bookmark"></i>
      
      <span class="sidebar-button-desc">Categories</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://daichou.github.io/tags">
    
      <i class="sidebar-button-icon fa fa-lg fa-tags"></i>
      
      <span class="sidebar-button-desc">Tags</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://daichou.github.io/archives">
    
      <i class="sidebar-button-icon fa fa-lg fa-archive"></i>
      
      <span class="sidebar-button-desc">Archives</span>
    </a>
  </li>

  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://daichou.github.io/#about">
    
      <i class="sidebar-button-icon fa fa-lg fa-question"></i>
      
      <span class="sidebar-button-desc">About</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://github.com/Daichou" target="_blank" rel="noopener">
    
      <i class="sidebar-button-icon fa fa-lg fa-github"></i>
      
      <span class="sidebar-button-desc">GitHub</span>
    </a>
  </li>


    </ul>
    <ul class="sidebar-buttons">
      
  <li class="sidebar-button">
    
      <a class="sidebar-button-link " href="https://daichou.github.io/index.xml">
    
      <i class="sidebar-button-icon fa fa-lg fa-rss"></i>
      
      <span class="sidebar-button-desc">RSS</span>
    </a>
  </li>


    </ul>
  </div>
</nav>

      

      <div id="main" data-behavior="1"
        class="
               hasCoverMetaIn
               ">
        <section class="postShorten-group main-content-wrap">
          
          
          
            
  
    
      
        
      
    
  


  

<article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://daichou.github.io/posts/sw4stm32stm32-hal/">
          使用SW4STM32建置STM32 HAL專案
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-02-03T01:13:00-08:00">
        
   3, 2018

      </time>
    
    
  </div>

    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      
        使用SW4STM32建置STM32 HAL專案 上學期修課時需要的一些小技巧紀錄一下。有人蠻多人問過我，所以打一篇文章。
步驟 其實滿簡單的，只要在建立新專案時多勾選一個選項即可。

當選擇完板子時不要急著案完成，繼續按下一步。

下一步後，勾選Hardware Abstraction Layer(HAL)，即可導入ST官方提供之HAL library。其他還有一些第三方library如FreeRTOS等，也可在這裡新增。
結果 SW4STM32會建立如下專案：

其中HAL會獨立在HAL_Driver下。有幾個檔案要特別注意。
src/stm32l4xx_it.c和inc/stm32l4xx_it.h這兩個檔案為放置Interrupt handler用的檔案，如有新增的Interrupt handler最好是放在這裡。
src/system_stm32l4xx.c：這個檔案放置系統開機時的初始化(clock和RCC)。
src/syscalls.c：這個檔案放置syscall，如果需要將printf的輸出導到UART，就需要在這個檔案動手腳。如下重新定義_io_putchar(int ch)
其他 若要將其他的STM32CubeMX產生出的檔案放入SW4STM32產生之HAL專案，編譯時可能會遇到一些問題。如：void HAL_MspInit(void) redefination。原因是HAL_Driver/Src/stm32l4xx_hal_msp_template.c這個檔案會有衝突，處理方法即是刪除此檔。
      
      <p>
        <a href="https://daichou.github.io/posts/sw4stm32stm32-hal/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
</article>

          
            
  
    
      
        
      
    
  


  

<article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://daichou.github.io/posts/chasing-pianos-piano-music-of-michael/">
          Chasing Pianos: The Piano Music Of Michael Nyman / Valentina Lisitsa Soundtrack Collection
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2018-02-03T00:30:00-08:00">
        
   3, 2018

      </time>
    
    
  </div>

    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      
        Chasing Pianos: The Piano Music Of Michael Nyman / Valentina Lisitsa 一、資訊  電影：鋼琴與他的情人（The Piano）、《奇異果夢遊仙境》（Wonderland）、《繪圖師的合約》（The Draughtsman’s Contract）、《千鈞一髮》（Gattaca）、《一加二的故事》（A Zed &amp; Two Noughts）、安妮日記(The Diary of Anne Frank) 、Drowning by Numbers 、Carrington、The End of The Affair 、Man With a Movie Camera、The Claim 配樂作家： Michael Nyman
演奏：Valentina Lisitsa
發行：Decca

Chasing Pianos: The Piano Music Of Michael Nyman / Valentina Lisitsa
 二、心得感想
我第一次聽到Michael Nyman這位編曲家是在千鈞一髮(Gattaca)這部我非常喜歡的電影(看看這個部落格的名字就知道了)，當時我不是很懂何謂極簡主義音樂，到了近年聽了許多極簡主義的音樂，例如:Philip Glass、Max Richter(後極簡)。等人的作品才開始了解極簡主意的魅力，透過同樣緩慢推移的模式將情緒注入其中。當然同樣的模式一直出現有時也被其他人批評。不過我覺得這類音樂有打動到我，在電影中讓情緒昇華這樣就夠了。
Michael Nyman最有名的配樂作品當屬&lt;鋼琴師與她的情人&gt;(The piano)這部電影了。而這張CD將這部電影中最精華的幾段配樂提取出來。至於其他電影我到是都沒聽過。
三、曲目  The Heart Asks Pleasure First (Copyright 1993, published in Michael Nyman The Piano Collection) From The Piano 04:21 Big My Secret (Copyright 1993, published in Michael Nyman The Piano Collection)From The Piano 02:58 Candlefire From The Diary of Anne Frank 02:29 If (Published 2005 in Michael Nyman The Piano Collection) From The Diary of Anne Frank 03:34 Sheep ‘n’ Tides From Drowning by Numbers 02:32 Goodbye Moortie From The Diary of Anne Frank 01:53 ly Drive From Carrington 00:51 Diary of Love From The End of The Affair 02:44 Time Lapse From A Zed &amp; Two Noughts 04:54 Odessa Beach From Man With a Movie Camera 03:32 The School Room From The Diary of Anne Frank 02:12 Why?
      
      <p>
        <a href="https://daichou.github.io/posts/chasing-pianos-piano-music-of-michael/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
</article>

          
            
  
    
      
        
      
    
  


  

<article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://daichou.github.io/posts/cloud-atlas-original-soundtrack/">
          Cloud Atlas Original Soundtrack
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-10-06T09:37:00-07:00">
        
   6, 2017

      </time>
    
    
  </div>

    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      
        Cloud Atlas Original Soundtrack 一、資訊 電影：雲圖(Cloud Atlas)
配樂作家： Tom Tykwer、Johnny Klimek、Reinhold Heil
發行：Sony Music

CLOUD ATLAS ORIGINAL MOTION SOUNDTRACK
二、心得感想 這部電影其實我沒看過，我當初是因為偶然聽到了這部電影的配樂&lt;Cloud Atlas Sextet&gt;和&lt;Prelude: The Atlas March&gt;後跑去找了這部電影的原著小說來看。這部電影小說的敘事手法十分有趣。她其實六段故事以A-B-C-D-E-F-F-E-D-C-B-A的方式敘述的，而且每段故事時間相差很久，但是前段的故事會有部份連結到下一段，表現出&quot;輪迴&quot;的感覺。當然這種敘事方式拍成電影爆炸機率相當高的，而電影得票房也真的炸了。
如同敘事手法，配樂本身也是有A-B-C-D-E-F-F-E-D-C-B-A的曲目編排。有多首配樂的風格式成對的。不過其中最引人注目的仍是書中提到的&lt;雲圖六重奏&gt;，這首貫串整個故事的曲子。也就是&lt;Prelude: The Atlas March&gt;，之後包括&lt;Cloud Atlas Opening Title&gt;、&lt;Cloud Atlas Finale&gt;、&lt;The Cloud Atlas Sextet for Orchestra&gt;和&lt;Cloud Atlas End Title&gt;，我覺得光片尾幾首曲子的編排與交響編曲，這張專輯就很有收藏的價值了。當然片中的&lt;Templa of Sacrifice&gt;和&lt;All Boundaries Are Conventions&gt;也是我喜歡的曲子。不過剩下幾段的風格我不是很喜歡。
不過這張專輯聽的時候有發現一個問題，最後幾首有時會有不名聲響，我不確定是不是錄音失誤，還是刻意的。
三、曲目  Prelude: The Atlas March Cloud Atlas Opening Title Travel to Edinburgh Luisa’s Birthmark Cavendish In Distress Papa Song Sloosha’s Hollow Sonmi-451 Meets Chang Won’t Let Go Kesselring The Escape Temple Of Sacrifice Catacombs Adieu New Direction All Boundaries Are Conventions The Message Chasing Luisa Rey Sonmi’s Discovery Death Is Only A Door Cloud Atlas Finale The Cloud Atlas Sextet for Orchestra Cloud Atlas End Title  
      
      <p>
        <a href="https://daichou.github.io/posts/cloud-atlas-original-soundtrack/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
</article>

          
            
  
    
      
        
      
    
  


  

<article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://daichou.github.io/posts/the-imitation-game-original-soundtrack/">
          The Imitation Game Original Soundtrack 
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-10-04T10:38:00-07:00">
        
   4, 2017

      </time>
    
    
  </div>

    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      
        The Imitation Game Original Soundtrack  一、資訊 電影：模仿遊戲(The Imitation Game)
配樂作家：Alexandre Desplat
發行：Sony Music

THE IMITATION GAME
二、心得感想 這部電影我本身蠻喜歡的，因為我是資訊背景，這故事本身就有親切感(讀過資工系的或多或少聽過圖零機吧)，雖然劇情魔改了Alan Turing的故事，但是改的還算流暢。唯一需要吐嘈的應該就是把發現德軍密碼會有固定內容，而這些內容可以用來剪枝(替除不可能發生的組合)部份改的太戲劇化了。
音樂部份為了呈現Alan Turing數學家的特質，讓音符很離散，很像一群數字在舞動。尤其在、、會有一種問題被拆解被處理的感覺。當然主題旋律&lt;The Imitation Game&gt;和&lt;Alan Turing's Legacy&gt;寫的很有味道。我當初在戲院看到這部電影時有被這兩首曲子觸動。&lt;The Apple&gt;、&lt;Farewell To Christopher&gt;是片中圖靈生命最悲情的時刻，這些悲傷讓我們對圖靈，還有對同性戀的迫害起了反思。
由於我仍是學生，財力不是十分充足，當初看完這部電影後一直去spotify反覆聽這片原聲帶，最後才決定買實體的，以更好的音質品味這張專輯。
三、曲目  The Imitation Game Enigma Alan U-Boats Carrots And Peas Mission Crosswords Night Research Joan Alone With Numbers The Machine Christopher Running Christopher Is Dead Decrypting A Different Equation Becoming A Spy The Apple Farewell To Christopher End Of War Because Of You Alan Turing’s Legacy  
      
      <p>
        <a href="https://daichou.github.io/posts/the-imitation-game-original-soundtrack/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
</article>

          
            
  
    
      
        
      
    
  


  

<article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://daichou.github.io/posts/arduino-tlc5940/">
          Arduino TLC5940與伺服馬達
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-09-08T22:39:00-07:00">
        
   8, 2017

      </time>
    
    
  </div>

    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      
        Arduino TLC5940與伺服馬達 TLC5940介紹 TLC5940是TI的16 channel LED驅動晶片。可以支援同時16通道的PWM灰階輸出，解析度為4096階。同時有兩種模式 12 bit (4096 Steps) Grayscale PWM Control 和 Dot Correction。
重要參數：
供應電壓：Vcc =&gt; 3V ~ 5.5V
操作界面：Serial Data
資料傳輸速率：~30MHz
LED可驅動最大電壓：~17V
LED可驅動電流：0~60mA(Vcc &lt; 3.6V ) 0~120mA(Vcc &gt; 3.6V)
由於是輸出PWM，也可以拿來做PWM擴充。所以也可以拿來推Servo摟。
TLC5940 Ardunio library 在Ardunio IDE中可以透過library manager找到。而github上也有連結：
https://github.com/PaulStoffregen/Tlc5940
TLC5940電路接法 以下以PDIP封裝的TLC5940為例還有使用Arduino Mega2560。

   TLC5940 Arduino Mega2560     SIN(pin 26) MOSI(pin 51)   SCK(pin 25) SCLK(pin 52)   XLAT(pin 24) OC1A(pin 11)   BLANK(pin 23) OC1B(pin 12) + 1K ohm上拉電阻   GSCLK(pin 18) OC2B(pin 9)   VPRG(pin 27) VPRG(pin 50) or GND   XERR(pin 16) XERR(pin 10) or GND   SIN(pin 26) SIN(pin 51)   IREF(pin 20) 1K ohm下拉電阻   VCC(pin 21) 5V   GND(pin 22) GND    至於out0到out15的接法比較特別。
      
      <p>
        <a href="https://daichou.github.io/posts/arduino-tlc5940/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
</article>

          
            
  
    
      
        
      
    
  


  

<article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://daichou.github.io/posts/stm32-lcd-bsp-stm32cubemx/">
          STM32 LCD 使用 BSP 與STM32CubeMX
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-09-07T08:03:00-07:00">
        
   7, 2017

      </time>
    
    
  </div>

    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      
        STM32 LCD 使用 BSP 與STM32CubeMX 本文以STM32F469NI Discovery為範例。目標是以STM32F469的BSP lib操作STM32F469 Discovery的TFT-LCD。
STM32CubeMX configuration 先將周邊開啟如以下設定。

LTDC : LCD-TFT Display Controller，硬體優化的LCD控制介面。
DSIHOST: Display Serial Interface Host，由MIPI alliance建立的行動顯示protocol。提供高速的LCD framrate。
DMA2D : Chrom-Art Accelerator™ 用來做圖像操作的DMA，可以做出限定範圍的填滿等記憶體操作。適用AHB bus，可以將結果導入AHB slave端(DSI HOST)。
RCC : LTDC , DSI HOST需要時序。
I2C : 觸控需要。(stm32f469_discovery.c需要I2C)。
FMC : 用BSP時可以選擇使用SDRAM存儲資料。

時脈控制，由於開啟HSE，所以DSI有了clock source。(這部分要注意STM32CubeMX產生出來的程式碼是否會讓clock超過硬體限制)。

選擇RGB565為color mode。

Pixel format選用ARGB8888。
 引入Driver
在專案資料夾下的Drivers/BSP/Components/otm8009a 中，將該路徑下的otm8009a.c 加入keil專案。otm8009a為STM32F469_Discovery上的觸控顯示螢幕。
在專案資料夾下的Drivers/BSP/STM32469I_Discovey中，將該路徑下的stm32469i_discovery.c、stm32469i_discovery_lcd.c、stm32469i_sdram.c加入keil專案中。
去下載STM32CubeMX STM32F4 firmware link: http://www.st.com/content/st_com/en/products/embedded-software/mcus-embedded-software/stm32-embedded-software/stm32cube-embedded-software/stm32cubef4.html
解開來，將Utilities資料夾放入project根目錄。
新增好的檔案架構如下。

在options for target -&gt; C/C++ -&gt; include path中加入那兩個資料夾。如下:
      
      <p>
        <a href="https://daichou.github.io/posts/stm32-lcd-bsp-stm32cubemx/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
</article>

          
            
  
    
      
        
      
    
  


  

<article class="postShorten postShorten--thumbnailimg-bottom" itemscope itemType="http://schema.org/BlogPosting">
  <div class="postShorten-wrap">
    
    <div class="postShorten-header">
      <h1 class="postShorten-title" itemprop="headline">
        <a class="link-unstyled" href="https://daichou.github.io/posts/stm32cubemx/">
          STM32CubeMX初探
        </a>
      </h1>
      
  <div class="postShorten-meta post-meta">
    
      <time itemprop="datePublished" datetime="2017-09-04T07:31:00-07:00">
        
   4, 2017

      </time>
    
    
  </div>

    </div>
    <div class="postShorten-excerpt" itemprop="articleBody">
      
        STM32CubeMX初探 STM32CubeMX是code generator(程式碼產生器)，與Microchip code configurator一樣。目標是用圖形化方式規劃MCU的外部模組與內部Middlewares設定。我個人覺得使用STM32cubeMX可以讓整個開發更加&quot;工程化&rdquo;，產生的專案會更有組織。
一、安裝與更新 安裝網址如下:http://www.st.com/en/development-tools/stm32cubemx.html
下載完成後，桌面會產生兩個icon，一個是STM32CubeMX，一個是STM32CubeUpdater。
開啟STM32CubeUpdater，選擇所需的STM32系列library，即可完成相依library建設。更新也是透過此工具。
二、基本使用(以STM32F469NI_Discovery為範例) 開啟STM32CubeMX，選擇New Project-&gt;選擇晶片或是開發版即可進入。如下圖畫面。

# pinout 左邊為周邊模組(peripheral)綠色為已經啟用。左邊為腳位設定(綠色為已規劃，橘色為開發版已經硬體連接的腳位但未啟用)。左鍵點選腳位可以開啟小選單選擇所需腳位定義。
透過上方tab進入進階規劃。

#Clock Configuration 
這個tab將STM32的所有時序和PLL、prescaler列出整理成流。
幾乎所有設定都可以修改。後方藍色框框中可以直接鍵入所需Clock值，系統會幫你調整整個流。當然有硬體限制，STM32cubeMX會提醒你，當你出現錯誤設定會有警示。
 #Configuration

這個tab將前面所開啟的周邊模組列出，每個都可點選以進階設定。更詳細的設定之後文章會介紹。 #power consumption calculator 
這個tab可以幫助計算能源消耗，還可以計算各個環境下的情況(就是把datasheet後面的數據列出)，不過無法計算開發版的能源消耗，僅限晶片本身。
# project Settings 點選上方menu-&gt;Project-&gt;Project Settings，開啟以下專案設定。

基本上就按照環境選了。不過這裏特別提一個選項，我覺得對後續開發很以幫助。

紅框中選項可以將周邊裝置的初始化函式(以MX_為前綴的函式)產生成獨立的.c/.h配對，避免全部Init函式都在main中，造成main function很肥大，而且當你有多個source檔(並非主要程序都集中在main.c)時，可以讓其他函式更方便引用這些初始程序。
 #產生Project與報告

紅框中這兩個東西可以產生Project 與報告。
#結果與檔案樹(以ARM MDK keil為例) 
User裡面是初始化函式和main.c。可以發現main.c中有一堆USER code begin和USER code end的註解，這些註解是希望user將自己的code加入其中，因為如果要重新使用STM32CubeMX產生code到同一專案時，可以確保user code不會被覆蓋。
Drivers/STM32F_4xx_HAL_Driver是STM官方在推的HAL函式庫，現在的主流，這部分引用都是由STM32CubeMX完成，其中若是想要自行開啟周邊模組，可以在這個資料夾中的stm32f4xx_hal_conf.h中解除註解或新增註解(外面檔案樹的Inc中)。若有新增模組需要手動將該周邊的HAL的.c新增進專案中。
# 小結 STM32CubeMX的有點是可以讓開發工程化，開發速度加快，可以用高層級的方式思考整個系統架構，而且不用去一直翻閱datasheet(最好還是要了解整個周邊的架構與使用)。
缺點是一些官方套件，例如:STemWin和BSP要自行新增進入專案中，有點可惜。
      
      <p>
        <a href="https://daichou.github.io/posts/stm32cubemx/" class="postShorten-excerpt_link link"></a>
        
      </p>
    </div>
  </div>
  
</article>

          
          
  <div class="pagination-bar">
    <ul class="pagination">
      
        
          <li class="pagination-prev">
            <a class="btn btn--default btn--small" href="https://daichou.github.io/posts/page/2/">
              <i class="fa fa-angle-left text-base icon-mr"></i>
              <span></span>
            </a>
          </li>
        
        
          <li class="pagination-next">
            <a class="btn btn--default btn--small" href="https://daichou.github.io/posts/page/4/">
              <span></span>
              <i class="fa fa-angle-right text-base icon-ml"></i>
            </a>
          </li>
        
      
      <li class="pagination-number"> </li>
    </ul>
  </div>


        </section>
        <footer id="footer" class="main-content-wrap">
  <span class="copyrights">
    &copy; 2020 Dai chou. 
  </span>
</footer>

      </div>
    </div>
    
    <div id="about">
  <div id="about-card">
    <div id="about-btn-close">
      <i class="fa fa-remove"></i>
    </div>
    
      <img id="about-card-picture" src="https://www.gravatar.com/avatar/b4129e5955793d76911ddfa9909e0f60?s=110" alt="" />
    
    <h4 id="about-card-name">Dai chou</h4>
    
      <div id="about-card-bio">A student major in Computer science in National Chiao Tung University.</div>
    
    
      <div id="about-card-job">
        <i class="fa fa-briefcase"></i>
        <br/>
        Student
      </div>
    
    
      <div id="about-card-location">
        <i class="fa fa-map-marker"></i>
        <br/>
        Taiwan
      </div>
    
  </div>
</div>

    

    
  
    
      <div id="cover" style="background-image:url('https://daichou.github.io/images/cover.jpg');"></div>
    
  


    
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.4/jquery.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>

  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js" integrity="sha256-/BfiIkHlHoVihZdc6TFuj7MmJ0TWcWsMXkeDFwhi0zw=" crossorigin="anonymous"></script>

<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/2.1.7/js/jquery.fancybox.min.js" integrity="sha256-GEAnjcTqVP+vBp3SSc8bEDQqvWAZMiHyUSIorrWwH50=" crossorigin="anonymous"></script>


<script src="https://daichou.github.io/js/script-pcw6v3xilnxydl1vddzazdverrnn9ctynvnxgwho987mfyqkuylcb1nlt.min.js"></script>


<script lang="javascript">
window.onload = updateMinWidth;
window.onresize = updateMinWidth;
document.getElementById("sidebar").addEventListener("transitionend", updateMinWidth);
function updateMinWidth() {
  var sidebar = document.getElementById("sidebar");
  var main = document.getElementById("main");
  main.style.minWidth = "";
  var w1 = getComputedStyle(main).getPropertyValue("min-width");
  var w2 = getComputedStyle(sidebar).getPropertyValue("width");
  var w3 = getComputedStyle(sidebar).getPropertyValue("left");
  main.style.minWidth = `calc(${w1} - ${w2} - ${w3})`;
}
</script>

<script>
$(document).ready(function() {
  hljs.configure({ classPrefix: '', useBR: false });
  $('pre.code-highlight > code, pre > code').each(function(i, block) {
    if (!$(this).hasClass('codeblock')) {
      $(this).addClass('codeblock');
    }
    hljs.highlightBlock(block);
  });
});
</script>





    
  </body>
</html>

